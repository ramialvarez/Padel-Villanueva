---
import { Trophy, PersonStanding } from "@lucide/astro";
---


<aside
  id="sidebar"
  class="w-16 lg:w-64 bg-gray-input border-r-2 border-gray-line flex flex-col items-center p-2 lg:p-6 transition-all duration-300 ease-in-out"
>

  <div class="flex flex-col justify-center items-center w-full mb-4 lg:mb-0">
    <img
      src="/logo_navbar.webp"
      alt="Logo padel villanueva"
      class="w-10 h-10 lg:w-auto lg:h-auto object-contain"
    />
    <h2
      id="sidebar-title"
      class="hidden lg:block text-xl p-2 font-semibold text-transparent bg-gradient-to-r from-rojo-oscuro to-bordo/80 bg-clip-text text-center text-balance transition-opacity duration-300"
    >
      Panel de administración
    </h2>
  </div>


  <nav class="flex-1 w-full mt-4 lg:mt-20">
    <ul
      class="flex flex-col items-center lg:items-start justify-center gap-3 lg:gap-6 w-full"
    >
      <li class="w-full">
        <a
          href="/admin/jugadores/listado"
          class="flex items-center justify-center lg:justify-start gap-3 hover:bg-gray-line hover:cursor-pointer hover:rounded-xl w-full p-3 lg:p-2 rounded-lg transition-colors duration-200"
          title="Jugadores"
        >
          <PersonStanding class="size-6 lg:size-7 flex-shrink-0" />
          <span
            id="jugadores-text"
            class="text-base hidden lg:inline transition-opacity duration-300"
            >Jugadores</span
          >
        </a>
      </li>
      <li class="w-full">
        <a
          href="/admin/torneos/listado"
          class="flex items-center justify-center lg:justify-start gap-3 hover:bg-gray-line hover:cursor-pointer hover:rounded-xl w-full p-3 lg:p-2 rounded-lg transition-colors duration-200"
          title="Torneos"
        >
          <Trophy class="size-5 lg:size-6 flex-shrink-0" />
          <span
            id="torneos-text"
            class="text-base hidden lg:inline transition-opacity duration-300"
            >Torneos</span
          >
        </a>
      </li>
    </ul>
  </nav>
</aside>

<script>
  // Funcionalidad básica de inicialización (sin toggle)
  function initializeSidebar() {
    const sidebar = document.getElementById("sidebar");
    const sidebarTitle = document.getElementById("sidebar-title");
    const jugadoresText = document.getElementById("jugadores-text");
    const torneosText = document.getElementById("torneos-text");

    if (window.innerWidth < 1024) {
      // Tablet y móvil: contraído (w-16)
      sidebar?.classList.remove("lg:w-64");
      sidebar?.classList.add("w-16");
      sidebarTitle?.classList.add("hidden");
      jugadoresText?.classList.add("hidden");
      torneosText?.classList.add("hidden");
    } else {
      // Desktop: expandido (w-64)
      sidebar?.classList.remove("w-16");
      sidebar?.classList.add("lg:w-64");
      sidebarTitle?.classList.remove("hidden");
      jugadoresText?.classList.remove("hidden");
      torneosText?.classList.remove("hidden");
    }
  }

  // Manejar cambios de tamaño de pantalla
  window.addEventListener("resize", initializeSidebar);

  // Inicializar al cargar la página
  document.addEventListener("DOMContentLoaded", initializeSidebar);
</script>
